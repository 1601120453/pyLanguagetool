image: python:3.6


before_script:
  - pip install -e .[dev]
  - pip install -e .[optional]

tests:
  script:
  - python -m pytest  --junitxml=junit.xml
  artifacts:
    reports:
      junit: junit.xml


check:
  script:
  - python setup.py check -ms

build:
  script:
  - python setup.py sdist
  - python setup.py bdist_wheel

stages:
  - check
  - tests
  - build
